"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3748],{3748:(e,s,t)=>{t.r(s),t.d(s,{default:()=>b});var a=t(7439),n=t(3696),l=t(2540);function i(){return(0,l.jsxs)("div",{className:"w-full text-center",children:[(0,l.jsxs)("span",{children:["Last Lucky Swaps Ticker: "," "]}),[{userName:"abc",pair:"SOL / USDC",text:"won 2 SOL"},{userName:"def",pair:"SOL / USDC",text:"won 3 SOL"},{userName:"def",pair:"SOL / USDC",text:"lost 5 SOL"}].map((e=>(0,l.jsxs)("span",{children:[e.userName," ",e.text,"  -  "]},JSON.stringify(e))))]})}const r={level:5,experience:750,nextLevelExperience:1e3,achievements:["First Swap","Lucky Streak: Win 3 times in a row","High Roller: Swap 1000 tokens"],dailyChallenges:["Complete 5 swaps today for bonus XP!"]};function d(){const{achievements:e,dailyChallenges:s,level:t,experience:a,nextLevelExperience:n}=r;return(0,l.jsxs)("div",{className:"stats stats-vertical shadow",children:[(0,l.jsxs)("div",{className:"stat",children:[(0,l.jsx)("div",{className:"stat-title",children:"Total Winnings"}),(0,l.jsx)("div",{className:"stat-value",children:"31K SOL"}),(0,l.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 5K SOL (18%) Last 24h"})]}),(0,l.jsxs)("div",{className:"stat",children:[(0,l.jsx)("div",{className:"stat-title",children:"Total Swaps"}),(0,l.jsx)("div",{className:"stat-value",children:"4,200"}),(0,l.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 400 (22%) Last 24h"})]}),(0,l.jsxs)("div",{className:"stat",children:[(0,l.jsx)("div",{className:"stat-title",children:"Your Progress"}),(0,l.jsxs)("div",{className:"stat-value",children:["Level ",t]}),(0,l.jsxs)("div",{className:"stat-desc",children:[(0,l.jsx)("div",{children:(0,l.jsx)("progress",{className:"progress progress-primary w-full",value:a,max:n})}),(0,l.jsxs)("div",{className:"text-right",children:[a,"/",n," XP"]})]})]}),(0,l.jsxs)("div",{className:"stat",children:[(0,l.jsx)("div",{className:"stat-title",children:"Achievements"}),(0,l.jsx)("div",{className:"stat-value",children:(0,l.jsx)("ul",{className:"text-sm list-disc list-inside",children:e.map(((e,s)=>(0,l.jsx)("li",{children:e},s)))})}),(0,l.jsx)("div",{className:"stat-desc"})]}),(0,l.jsxs)("div",{className:"stat",children:[(0,l.jsx)("div",{className:"stat-title",children:"Challenges"}),(0,l.jsx)("div",{className:"stat-value",children:(0,l.jsx)("ul",{className:"text-sm list-disc list-inside",children:s.map(((e,s)=>(0,l.jsx)("li",{children:e},s)))})}),(0,l.jsx)("div",{className:"stat-desc"})]})]})}var c=t(3530),o=t(8267),x=t(9682),h=t(9758),m=t(2030),u=t(7435),j=t(6756),p=t(3694);function v({hideModal:e,show:s,onSelectCallback:t}){const i=(0,j.NA)(),r=(0,p.F7)(),[d,c]=(0,n.useState)(""),o=i.allTokens.filter((e=>e.name.toLowerCase().includes(d.toLowerCase())||e.symbol.toLowerCase().includes(d.toLowerCase()))),x=o.filter((e=>!!(r.tokens&&e.mintAddress in r.tokens&&+r.tokens[e.mintAddress].amountAsFloat>0))),u=o.filter((e=>!x.includes(e)));function v(s){t(s),c(""),e()}return(0,l.jsxs)(a.Vm,{title:"Select a token",hide:e,show:s,children:[(0,l.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"Search",value:d,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&1===o.length&&(e.stopPropagation(),setTimeout((()=>{v(o[0].mintAddress)}),1))}}),!!d&&(0,l.jsx)("span",{className:"badge cursor-pointer",onClick:()=>c(""),children:"x"}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"})})]}),(0,l.jsxs)("div",{className:"min-h-96",children:[0===u.length&&0===x.length&&(0,l.jsx)("span",{children:"No token found"}),x.length>0&&(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("th",{children:"Your Tokens"})})}),(0,l.jsx)("tbody",{children:x.map((e=>{const s=i.getStatsByMintAddress(e.mintAddress);return(0,l.jsxs)("tr",{className:"hover cursor-pointer",onClick:()=>{v(e.mintAddress)},children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)("div",{className:"mask mask-squircle h-12 w-12",children:(0,l.jsx)("img",{src:e.logoURI,alt:`${e.symbol} logo`})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold",children:e.name}),(0,l.jsx)("div",{className:"text-sm opacity-50",children:(0,l.jsx)(h.xv,{mintAddress:e.mintAddress})})]})]})}),(0,l.jsx)("td",{children:s&&s.volumeInUSD&&(0,l.jsx)("span",{className:"badge badge-ghost badge-sm",children:(0,m.az)(s.volumeInUSD)})})]},e.symbol)}))})]}),u.length>0&&(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:(0,l.jsx)("th",{children:"Tokens"})})}),(0,l.jsx)("tbody",{children:u.map((e=>{const s=i.getStatsByMintAddress(e.mintAddress);return(0,l.jsxs)("tr",{className:"hover cursor-pointer",onClick:()=>{v(e.mintAddress)},children:[(0,l.jsx)("td",{children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)("div",{className:"mask mask-squircle h-12 w-12",children:(0,l.jsx)("img",{src:e.logoURI,alt:`${e.symbol} logo`})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold",children:e.name}),(0,l.jsx)("div",{className:"text-sm opacity-50",children:e.symbol})]})]})}),(0,l.jsx)("td",{children:s&&s.volumeInUSD&&(0,l.jsx)("span",{className:"badge badge-ghost badge-sm",children:(0,m.az)(s.volumeInUSD)})})]},e.symbol)}))})]})]})]})}function g({sendMint:e,receiveMint:s}){const t=(0,a.RU)(),{connection:i}=(0,c.w)(),r=(0,o.v)(),d=(0,u.Zp)(),p=(0,a.hx)(),g=(0,j.NA)(),N=(0,j.Hk)(),b=g.satoshiToFloat(e,1e8).toString(),[y,w]=(0,n.useState)(2),[f,k]=(0,n.useState)(100),[S,M]=(0,n.useState)(b),[A,C]=(0,n.useState)(null),[T,L]=(0,n.useState)(null),[B,F]=(0,n.useState)(e),[$,O]=(0,n.useState)(s),U=!g.isHouseToken($),P=(0,n.useMemo)((()=>{if(R()){if(U){const e=D(),s=I(e),t=s&&e?e-s:null;return null!=s&&null!=t?(t+s*y).toString():null}return S}return null}),[y,f,S,B]);function D(){return S?Number.parseFloat(S):null}function I(e){return e?e*f/100:null}function R(){return(0,m.uA)(S)&&y&&B&&$}(0,n.useEffect)((()=>{R()&&async function(){const e=B,s=$;if(!P||!e||!s)return;const t=+P*Math.pow(10,g.getTokenByMintAddress(e).decimals),a=await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${e}&outputMint=${s}&amount=${t}&slippageBps=50`)).json(),n=g.calculatePrice(a),l=+P*n;if(L(l.toPrecision(5)),U)C(l.toPrecision(5));else{const e=I(l),s=e&&l?l-e:null;if(null==e||null==s)throw Error("Something went wrong");C((s+e*y).toPrecision(5))}}()}),[y,f,S,B,$]);const[q,E]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(!1);return(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)(v,{show:q,hideModal:()=>E(!1),onSelectCallback:e=>{return(s=e)===$&&O(B),F(s),void d(s===$?`/swap/${$}/${B}`:`/swap/${s}/${$}`);var s}}),(0,l.jsx)(v,{show:K,hideModal:()=>Y(!1),onSelectCallback:e=>{return B===(s=e)&&F($),O(s),void d(B===s?`/swap/${$}/${B}`:`/swap/${B}/${s}`);var s}}),(0,l.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[r.publicKey&&(0,l.jsxs)("p",{className:"text-sm text-right w-full text-secondary-content",children:["You have"," ",(0,l.jsx)(h.xv,{mintAddress:B,clickCallback:e=>M(e.toString())})]}),(0,l.jsxs)("div",{className:"join",children:[(0,l.jsxs)("label",{className:"input input-primary input-bordered flex items-center gap-2 max-w-80",children:[(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:"Send\xa0Amount"}),(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"0.0",value:S,onChange:e=>{M(e.target.value)}})]}),(0,l.jsx)("button",{className:"select select-primary w-full max-w-xs",value:B||"Token",onClick:()=>{E(!0)},children:(0,l.jsx)("span",{className:"leading-10",children:g.getTokenByMintAddress(B).symbol})})]})]}),(0,l.jsx)("div",{className:"divider",children:"\u21a1"}),(0,l.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[r.publicKey&&(0,l.jsxs)("p",{className:"text-sm text-right w-full text-secondary-content",children:["You have "," ",(0,l.jsx)(h.xv,{mintAddress:$})]}),(0,l.jsxs)("div",{className:"join",children:[(0,l.jsxs)("label",{className:"input input-primary input-bordered flex items-center gap-2 max-w-80",children:[(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:"Receive\xa0Amount"}),(0,l.jsx)("input",{disabled:!0,type:"text",className:"grow",placeholder:"0.0",value:A||"",onChange:e=>{C(e.target.value)}})]}),(0,l.jsx)("button",{className:"select select-primary w-full max-w-xs",value:$||"Token",onClick:()=>{Y(!0)},children:(0,l.jsx)("span",{className:"leading-10",children:g.getTokenByMintAddress($).symbol})})]})]}),(0,l.jsx)("div",{className:"divider",children:"\u21ba"}),(0,l.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[(0,l.jsx)("span",{className:"text-secondary-content",children:"Odds"}),(0,l.jsxs)("div",{className:"join",children:[(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("input",{type:"range",min:"1",max:"5",value:y,className:"range",step:"0.1",onChange:e=>{w(Number.parseFloat(e.target.value))}}),(0,l.jsxs)("div",{className:"flex justify-between px-2 text-xs text-secondary-content",children:[(0,l.jsx)("span",{children:"|1x"}),(0,l.jsx)("span",{children:"|2x"}),(0,l.jsx)("span",{children:"|3x"}),(0,l.jsx)("span",{children:"|4x"}),(0,l.jsx)("span",{children:"|5x"})]})]}),(0,l.jsx)("div",{className:"",children:(0,l.jsx)("input",{type:"text",placeholder:"Odds",className:"input input-bordered w-full max-w-xs",value:y,onChange:e=>{w(Number.parseFloat(e.target.value))}})})]})]}),(0,l.jsx)("div",{className:"divider"}),(0,l.jsx)("div",{className:"card rounded-box grid place-items-center",children:(0,l.jsxs)("div",{className:"join",children:[!r.publicKey&&(0,l.jsx)(x.U,{}),r.publicKey&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{className:"btn btn-primary btn-wide mr-4",disabled:N.isPending,onClick:async function(){const e=B,s=$,t=+S*Math.pow(10,g.getTokenByMintAddress(e).decimals);N.mutateAsync({inputMint:e,outputMint:s,amountAsInteger:t,oddsAsFloat:y})},children:"LuckySwap"}),(0,l.jsx)("button",{className:"btn btn-primary btn-wide",onClick:async function(){try{const e=B,s=$,t=+S*Math.pow(10,g.getTokenByMintAddress(e).decimals),a=await(0,m.TI)(r,i,e,s,t);p(a.signature)}catch(e){t(e),console.error(e),e.logs&&console.error("transaction logs",null==e?void 0:e.logs)}},children:"JupiterSwap"})]})]})}),(0,l.jsx)("div",{className:"divider",children:"\ud83c\udf40"}),(0,l.jsx)("div",{className:"card rounded-box grid px-5 place-items-center",children:(0,l.jsx)("div",{className:"overflow-x-auto text-secondary-content",children:(0,l.jsx)("table",{className:"table",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Your odds"}),(0,l.jsx)("td",{children:y})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Your chance to win"}),(0,l.jsxs)("td",{children:[(1/y*100*.975).toFixed(1),"%"]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"You send"}),(0,l.jsxs)("td",{children:[D()," ",g.getTokenByMintAddress(B).symbol]})]}),U?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"... if you win that becomes"}),(0,l.jsxs)("td",{children:[P," ",g.getTokenByMintAddress(B).symbol]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:".. and will be swapped to"}),(0,l.jsxs)("td",{children:[A," ",g.getTokenByMintAddress($).symbol]})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"... that will be swapped to"}),(0,l.jsxs)("td",{children:[T," ",g.getTokenByMintAddress($).symbol]})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"... and if you win that becomes"}),(0,l.jsxs)("td",{children:[A," ",g.getTokenByMintAddress($).symbol]})]})]})]})})})}),(0,l.jsx)("div",{className:"divider"})]})}var N=t(9166);function b(){(0,N._)();const e=(0,u.g)(),s=(0,n.useMemo)((()=>e.sendMint?e.sendMint:"So11111111111111111111111111111111111111112"),[e]),t=(0,n.useMemo)((()=>e.receiveMint?e.receiveMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),[e]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.sR,{title:"Lucky Swaps",subtitle:"Challenge your luck now"}),(0,l.jsx)(i,{}),(0,l.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 my-4",children:[(0,l.jsx)("div",{className:"",children:(0,l.jsx)(d,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(g,{sendMint:s,receiveMint:t})})]})]})}}}]);