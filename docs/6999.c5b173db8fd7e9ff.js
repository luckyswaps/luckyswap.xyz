(self.webpackChunk=self.webpackChunk||[]).push([[6999],{8648:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z});var n=a(7439),s=a(3696),r=a(2540);function i(){return(0,r.jsxs)("div",{className:"w-full text-center",children:[(0,r.jsxs)("span",{children:["Last Lucky Swaps Ticker: "," "]}),[{userName:"abc",pair:"SOL / USDC",text:"won 2 SOL"},{userName:"def",pair:"SOL / USDC",text:"won 3 SOL"},{userName:"def",pair:"SOL / USDC",text:"lost 5 SOL"}].map((e=>(0,r.jsxs)("span",{children:[e.userName," ",e.text,"  -  "]},JSON.stringify(e))))]})}function o(){return(0,r.jsxs)("div",{className:"stats stats-vertical shadow",children:[(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-title",children:"Total Winnings"}),(0,r.jsx)("div",{className:"stat-value",children:"31K SOL"}),(0,r.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 5K SOL (18%) Last 24h"})]}),(0,r.jsxs)("div",{className:"stat",children:[(0,r.jsx)("div",{className:"stat-title",children:"Total Swaps"}),(0,r.jsx)("div",{className:"stat-value",children:"4,200"}),(0,r.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 400 (22%) Last 24h"})]})]})}var c=a(3530),l=a(8267),d=a(9682),u=a(9758),m=a(3017),p=a(5067),h=a(8530),g=a(1632);const y=Buffer.from("state"),x=Buffer.from("reserve");function w(e){return h.PublicKey.findProgramAddressSync([y],e)}function b(e,t){return h.PublicKey.findProgramAddressSync([x,e.toBuffer()],t)}function v(e,t){return(0,g.Xt)(e,t,!0)}const j="Lucky7RXZNtywxBXrGibRqrC3FcJYdvr34nFpU6DJVX",f="D665VLt9rdGpwBuUGQuRqCK2FhA9nYXBdYewWexFwcFj",k="JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4",N=11,S=1e3,A=4294967295,M=4294967295;async function _(e,t){const[a]=b(e,t.programId);return!!(await t.account.reserve.fetchNullable(a))}async function B(e){if(await _(new h.PublicKey(e.inputMint),e.program))return!0;if(await _(new h.PublicKey(e.outputMint),e.program))return!1;throw new Error("Either input, or output mint must be reserve mint!")}async function I(e){const[t]=w(e.program.programId);return await B(e)?v(e.inputMint,t):v(e.outputMint,t)}var T=a(160);var C=a(5225),E=a.n(C),K=a(260),P=a.n(K);async function R(e){let t=e.amount;if(!(await B(e))){t/=function(e){if(!Number.isInteger(e)||e<0||e>A)throw new Error(`Threshold must be an integer between 0 and ${A}`);if(0===e)return 0;const t=e;try{const e=BigInt(S)*BigInt(A+1)/BigInt(t);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Multiplier calculation resulted in a number too large");return Number(e)}catch(a){if(a instanceof Error)throw new Error(`Calculation error: ${a.message}`);throw a}}(e.threshold)}const a=function(e){const t=Object.entries(e).filter((([e,t])=>null!=t)).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`));return t.length>0?`?${t.join("&")}`:""}((0,m.A)({},e.jupiterQuoteParams,{inputMint:e.inputMint,outputMint:e.outputMint,amount:e.amount,restrictIntermediateTokens:!0,maxAccounts:e.jupiterQuoteParams.maxAccounts||64-N})),n=await(await E()("https://quote-api.jup.ag/v6/quote"+a)).json();if(n.error)throw new Error("Failed to get swap instructions: "+n.error);return n}async function U(e){const t=await async function(e){var t;const[a]=w(e.program.programId),n=await B(e),s=await I(e),r=await R(e),i=null!=(t=e.userTargetAccount)?t:(0,g.Xt)(e.outputMint,e.payerAccount),o=(0,m.A)({},e.jupiterSwapParams,{quoteResponse:r,userPublicKey:n?a.toBase58():e.payerAccount.toBase58(),destinationTokenAccount:n?i.toBase58():s.toBase58(),useSharedAccounts:!0,trackingAccount:void 0}),c=await(await E()("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();if(c.error)throw new Error("Failed to get swap instructions: "+c.error);return c}(e);return await async function(e,t,a){var n,s;const[r]=w(e.program.programId),i=await B(e),o=await I(e),c=await async function(e){let t;return await B(e)?[t]=b(e.inputMint,e.program.programId):[t]=b(e.outputMint,e.program.programId),t}(e),l=null!=(n=e.userSourceAccount)?n:(0,g.Xt)(e.inputMint,e.payerAccount),d=null!=(s=e.userTargetAccount)?s:(0,g.Xt)(e.outputMint,e.payerAccount);i&&(t.swapInstruction.accounts.find((e=>e.pubkey==r.toString())).isSigner=!1);const u={programId:null==a||a.includes("mainnet")?j:f,accounts:[{pubkey:e.payerAccount.toBase58(),isSigner:!0,isWritable:!0},{pubkey:l.toBase58(),isSigner:!1,isWritable:!0},{pubkey:d.toBase58(),isSigner:!1,isWritable:!0},{pubkey:r.toBase58(),isSigner:!1,isWritable:!0},{pubkey:c.toBase58(),isSigner:!1,isWritable:!0},{pubkey:o.toBase58(),isSigner:!1,isWritable:!0},{pubkey:T.x5.toBase58(),isSigner:!1,isWritable:!0},{pubkey:h.SystemProgram.programId.toBase58(),isSigner:!1,isWritable:!0},{pubkey:h.SYSVAR_RECENT_BLOCKHASHES_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:h.SYSVAR_INSTRUCTIONS_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},...t.swapInstruction.accounts],data:t.swapInstruction.data},m=Buffer.from(u.data,"base64"),p=e.program.coder.instruction.encode("swap",{threshold:new(P())(e.threshold),jupiterData:m});return u.data=p.toString("base64"),t.swapInstruction=u,t}(e,t)}var L=a(9410);const F=JSON.parse('{"address":"D665VLt9rdGpwBuUGQuRqCK2FhA9nYXBdYewWexFwcFj","metadata":{"name":"luckyswaps","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"fund_reserve","discriminator":[17,82,71,222,117,210,58,12],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"mint"},{"name":"vault","writable":true},{"name":"from","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"setup_reserve","discriminator":[228,106,40,32,130,22,168,195],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"state"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"mint"},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"swap","discriminator":[248,198,158,145,225,117,135,200],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"user_token_account","writable":true},{"name":"user_target_token_account","writable":true},{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"reserve.mint","account":"Reserve"}]}},{"name":"vault","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"recent_blockhashes"},{"name":"instruction_sysvar"},{"name":"jupiter_program","address":"JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"}],"args":[{"name":"threshold","type":"u32"},{"name":"jupiter_data","type":"bytes"}]},{"name":"update_house_edge","discriminator":[134,38,169,178,27,198,191,173],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"new_house_edge","type":"u16"}]},{"name":"update_max_allowed_multiplier","discriminator":[9,233,202,14,35,85,97,11],"accounts":[{"name":"state","writable":true},{"name":"authority","signer":true}],"args":[{"name":"new_max_allowed_multiplier","type":"u32"}]},{"name":"update_override_random","discriminator":[72,19,93,103,151,133,255,222],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"enable_override","type":"bool"},{"name":"value","type":"u32"}]}],"accounts":[{"name":"Reserve","discriminator":[43,242,204,202,26,247,59,127]},{"name":"State","discriminator":[216,146,107,94,104,75,182,177]}],"events":[{"name":"SwapRecord","discriminator":[162,187,123,194,138,56,250,241]}],"errors":[{"code":6000,"name":"MathError","msg":"MathError"},{"code":6001,"name":"AlreadyInitialized","msg":"Program already initialized"},{"code":6002,"name":"ReserveAlreadySetup","msg":"Reserves already set up"},{"code":6003,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6004,"name":"InvalidHouseEdge","msg":"Invalid house edge value"},{"code":6005,"name":"InvalidReserve","msg":"Invalid reserve for the given token"},{"code":6006,"name":"UnexpectedExecutableAccount","msg":"Unexpected executable account in transaction"},{"code":6007,"name":"InvalidInstructionAccounts","msg":"Invalid Instruction Accounts"},{"code":6008,"name":"NoOtherInstructionAllowed","msg":"Other instructions not allowed"},{"code":6009,"name":"Unsupported","msg":"Unsupported Functionality!"},{"code":6010,"name":"InvalidJupiterAccount","msg":"Constraint Error in Jupiter Account"},{"code":6011,"name":"InvalidJupiterData","msg":"Constraint Error in Jupiter Data"},{"code":6012,"name":"InvalidStateConfiguration","msg":"Global state has an invalid value!"},{"code":6013,"name":"BreachMaxAllowedMultiplier","msg":"The max allowed multiplier was breached!"},{"code":6014,"name":"InvalidNewMaxMultiplier","msg":"Invalid new max multiplier!"}],"types":[{"name":"Reserve","type":{"kind":"struct","fields":[{"name":"mint","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"total_deposits","type":"u64"},{"name":"total_withdrawals","type":"u64"},{"name":"total_losses_collected","type":"u64"},{"name":"total_wins_paid","type":"u64"},{"name":"padding","type":{"array":["u64",5]}}]}},{"name":"State","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"initialized","type":"bool"},{"name":"override_random","type":"bool"},{"name":"override_random_value","type":"u32"},{"name":"house_edge","type":"u16"},{"name":"max_allowed_multiplier","type":"u32"},{"name":"padding","type":{"array":["u32",13]}}]}},{"name":"SwapRecord","type":{"kind":"struct","fields":[{"name":"payer","type":"pubkey"},{"name":"reserve","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"amount","type":"u64"},{"name":"threshold","type":"u32"},{"name":"random_number","type":"u32"},{"name":"adjusted_threshold","type":"u32"},{"name":"payer_wins","type":"bool"},{"name":"win_paid","type":"u64"},{"name":"loss_collected","type":"u64"}]}}],"constants":[{"name":"SEED_RESERVE","type":"bytes","value":"[114, 101, 115, 101, 114, 118, 101]"},{"name":"SEED_STATE","type":"bytes","value":"[115, 116, 97, 116, 101]"}]}');function W(e){const t=Number(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:t>=1e3?"compact":"standard",maximumFractionDigits:t>=1e3?1:0}).format(t)}async function D(e,t,a,n=!1){if(console.debug(a),!e.signTransaction)throw new Error("Something with wallet setup went wrong");try{const s=await e.signTransaction(a),r=await t.sendTransaction(s);if(n){const e=await t.getLatestBlockhash();await t.confirmTransaction((0,m.A)({signature:r},e),"confirmed")}return{signature:r}}catch(s){throw s&&s.error&&!s.message&&(s.message=s.error),s}}async function J(e,t,a,n,s){const r=await async function(e,t,a){return await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${e}&outputMint=${t}&amount=${a}&slippageBps=50`)).json()}(a,n,s);if(!e.publicKey)throw Error("Wallet must be connected");const{swapTransaction:i}=await(await fetch("https://quote-api.jup.ag/v6/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:r,userPublicKey:e.publicKey.toString(),wrapAndUnwrapSol:!0})})).json(),o=Buffer.from(i,"base64"),c=p.Kt.deserialize(o);return await D(e,t,c)}async function O(e,t,a,n,s,r,i=!1){const o=function(e,t){const a="string"==typeof e?new h.Connection(e,{commitment:"processed"}):e,n=t?t instanceof h.Keypair?new L.Wallet(t):t:new L.Wallet(h.Keypair.generate()),s=new L.NQ(a,n,L.NQ.defaultOptions());return new L.BP(F,s)}(t,e),c=Math.round(M/+r),l={payerAccount:e.publicKey,inputMint:new p.J3(a),outputMint:new p.J3(n),program:o,amount:s,threshold:c,jupiterQuoteParams:{onlyDirectRoutes:!0},jupiterSwapParams:{}},d=await U(l);console.debug("luckyswapparams",{payerAccount:l.payerAccount.toString(),inputMint:l.inputMint.toString(),outputMint:l.outputMint.toString(),program:{programID:l.program.programId.toString()},amount:l.amount.toString(),threshold:l.threshold.toString()},l);const{computeBudgetInstructions:u,setupInstructions:m,swapInstruction:g,cleanupInstruction:y,addressLookupTableAddresses:x}=d,w=[];w.push(...await(async e=>(await t.getMultipleAccountsInfo(e.map((e=>new p.J3(e))))).reduce(((t,a,n)=>{const s=e[n];if(a){const e=new p.kc({key:new p.J3(s),state:p.kc.deserialize(a.data)});t.push(e)}return t}),new Array))(x));const b=(await t.getLatestBlockhash()).blockhash,v=[(j=g,new p.fH({programId:new p.J3(j.programId),keys:j.accounts.map((e=>({pubkey:new p.J3(e.pubkey),isSigner:e.isSigner,isWritable:e.isWritable}))),data:Buffer.from(j.data,"base64")}))];var j;const f=new p.wu({payerKey:e.publicKey,recentBlockhash:b,instructions:v}).compileToV0Message(w),k=new p.Kt(f);return await D(e,t,k,i)}var $=a(7435),q=a(6756),V=a(4846);function G({hideModal:e,show:t,onSelectCallback:a}){const i=(0,q.NA)(),o=(0,V.F7)(),[c,l]=(0,s.useState)(""),d=i.allTokens.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.symbol.toLowerCase().includes(c.toLowerCase()))),m=d.filter((e=>!!(o.tokens&&e.mintAddress in o.tokens&&+o.tokens[e.mintAddress].amountAsFloat>0))),p=d.filter((e=>!m.includes(e)));function h(t){a(t),l(""),e()}return(0,r.jsxs)(n.Vm,{title:"Select a token",hide:e,show:t,children:[(0,r.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,r.jsx)("input",{type:"text",className:"grow",placeholder:"Search",value:c,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&1===d.length&&(e.stopPropagation(),setTimeout((()=>{h(d[0].mintAddress)}),1))}}),!!c&&(0,r.jsx)("span",{className:"badge cursor-pointer",onClick:()=>l(""),children:"x"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z",clipRule:"evenodd"})})]}),(0,r.jsxs)("div",{className:"overflow-x-auto",children:[0===p.length&&0===m.length&&(0,r.jsx)("span",{children:"No token found"}),m.length>0&&(0,r.jsxs)("table",{className:"table",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{children:"Your Tokens"})})}),(0,r.jsx)("tbody",{children:m.map((e=>{const t=i.getStatsByMintAddress(e.mintAddress);return(0,r.jsxs)("tr",{className:"hover cursor-pointer",onClick:()=>{h(e.mintAddress)},children:[(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"avatar",children:(0,r.jsx)("div",{className:"mask mask-squircle h-12 w-12",children:(0,r.jsx)("img",{src:e.logoURI,alt:`${e.symbol} logo`})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold",children:e.name}),(0,r.jsx)("div",{className:"text-sm opacity-50",children:(0,r.jsx)(u.xv,{mintAddress:e.mintAddress})})]})]})}),(0,r.jsx)("td",{children:t&&t.volumeInUSD&&(0,r.jsx)("span",{className:"badge badge-ghost badge-sm",children:W(t.volumeInUSD)})})]},e.symbol)}))})]}),p.length>0&&(0,r.jsxs)("table",{className:"table",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{children:"Tokens"})})}),(0,r.jsx)("tbody",{children:p.map((e=>{const t=i.getStatsByMintAddress(e.mintAddress);return(0,r.jsxs)("tr",{className:"hover cursor-pointer",onClick:()=>{h(e.mintAddress)},children:[(0,r.jsx)("td",{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"avatar",children:(0,r.jsx)("div",{className:"mask mask-squircle h-12 w-12",children:(0,r.jsx)("img",{src:e.logoURI,alt:`${e.symbol} logo`})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-bold",children:e.name}),(0,r.jsx)("div",{className:"text-sm opacity-50",children:e.symbol})]})]})}),(0,r.jsx)("td",{children:t&&t.volumeInUSD&&(0,r.jsx)("span",{className:"badge badge-ghost badge-sm",children:W(t.volumeInUSD)})})]},e.symbol)}))})]})]})]})}function Q({sendMint:e,receiveMint:t}){const a=(0,n.RU)(),{connection:i}=(0,c.w)(),o=(0,l.v)(),m=(0,$.Zp)(),p=(0,n.hx)(),h=(0,q.NA)(),g=h.satoshiToFloat(e,1e8).toString(),[y,x]=(0,s.useState)(2),[w,b]=(0,s.useState)(100),[v,j]=(0,s.useState)(g),[f,k]=(0,s.useState)(null),[N,S]=(0,s.useState)(null),[A,M]=(0,s.useState)(e),[_,B]=(0,s.useState)(t),I=!h.isHouseToken(_),T=(0,s.useMemo)((()=>{if(K()){if(I){const e=C(),t=E(e),a=t&&e?e-t:null;return null!=t&&null!=a?(a+t*y).toString():null}return v}return null}),[y,w,v,A]);function C(){return v?Number.parseFloat(v):null}function E(e){return e?e*w/100:null}function K(){return!!(e=v)&&Number.parseFloat(e).toString()===e&&y&&A&&_;var e}(0,s.useEffect)((()=>{K()&&async function(){const e=A,t=_;if(!T||!e||!t)return;const a=+T*Math.pow(10,h.getTokenByMintAddress(e).decimals),n=await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${e}&outputMint=${t}&amount=${a}&slippageBps=50`)).json(),s=h.calculatePrice(n),r=+T*s;if(S(r.toPrecision(5)),I)k(r.toPrecision(5));else{const e=E(r),t=e&&r?r-e:null;if(null==e||null==t)throw Error("Something went wrong");k((t+e*y).toPrecision(5))}}()}),[y,w,v,A,_]);const[P,R]=(0,s.useState)(!1),[U,L]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(G,{show:P,hideModal:()=>R(!1),onSelectCallback:e=>{return(t=e)===_&&B(A),M(t),void m(t===_?`/swap/${_}/${A}`:`/swap/${t}/${_}`);var t}}),(0,r.jsx)(G,{show:U,hideModal:()=>L(!1),onSelectCallback:e=>{return A===(t=e)&&M(_),B(t),void m(A===t?`/swap/${_}/${A}`:`/swap/${A}/${t}`);var t}}),(0,r.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[o.publicKey&&(0,r.jsxs)("p",{className:"text-sm text-right w-full text-secondary-content",children:["You have"," ",(0,r.jsx)(u.xv,{mintAddress:A,clickCallback:e=>j(e.toString())})]}),(0,r.jsxs)("div",{className:"join",children:[(0,r.jsxs)("label",{className:"input input-primary input-bordered flex items-center gap-2 max-w-80",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Send\xa0Amount"}),(0,r.jsx)("input",{type:"text",className:"grow",placeholder:"0.0",value:v,onChange:e=>{j(e.target.value)}})]}),(0,r.jsx)("button",{className:"select select-primary w-full max-w-xs",value:A||"Token",onClick:()=>{R(!0)},children:(0,r.jsx)("span",{className:"leading-10",children:h.getTokenByMintAddress(A).symbol})})]})]}),(0,r.jsx)("div",{className:"divider",children:"\u21a1"}),(0,r.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[o.publicKey&&(0,r.jsxs)("p",{className:"text-sm text-right w-full text-secondary-content",children:["You have "," ",(0,r.jsx)(u.xv,{mintAddress:_})]}),(0,r.jsxs)("div",{className:"join",children:[(0,r.jsxs)("label",{className:"input input-primary input-bordered flex items-center gap-2 max-w-80",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Receive\xa0Amount"}),(0,r.jsx)("input",{disabled:!0,type:"text",className:"grow",placeholder:"0.0",value:f||"",onChange:e=>{k(e.target.value)}})]}),(0,r.jsx)("button",{className:"select select-primary w-full max-w-xs",value:_||"Token",onClick:()=>{L(!0)},children:(0,r.jsx)("span",{className:"leading-10",children:h.getTokenByMintAddress(_).symbol})})]})]}),(0,r.jsx)("div",{className:"divider",children:"\u21ba"}),(0,r.jsxs)("div",{className:"card bg-secondary rounded-box grid h-24 p-4 place-items-center",children:[(0,r.jsx)("span",{className:"text-secondary-content",children:"Odds"}),(0,r.jsxs)("div",{className:"join",children:[(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("input",{type:"range",min:"1",max:"5",value:y,className:"range",step:"0.1",onChange:e=>{x(Number.parseFloat(e.target.value))}}),(0,r.jsxs)("div",{className:"flex justify-between px-2 text-xs text-secondary-content",children:[(0,r.jsx)("span",{children:"|1x"}),(0,r.jsx)("span",{children:"|2x"}),(0,r.jsx)("span",{children:"|3x"}),(0,r.jsx)("span",{children:"|4x"}),(0,r.jsx)("span",{children:"|5x"})]})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("input",{type:"text",placeholder:"Odds",className:"input input-bordered w-full max-w-xs",value:y,onChange:e=>{x(Number.parseFloat(e.target.value))}})})]})]}),(0,r.jsx)("div",{className:"divider"}),(0,r.jsx)("div",{className:"card rounded-box grid place-items-center",children:(0,r.jsxs)("div",{className:"join",children:[!o.publicKey&&(0,r.jsx)(d.U,{}),o.publicKey&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"btn btn-primary btn-wide mr-4",onClick:async function(){try{const e=A,t=_,a=+v*Math.pow(10,h.getTokenByMintAddress(e).decimals),n=await O(o,i,e,t,a,y);p(n.signature)}catch(e){a(e),console.error(e),e.logs&&console.error("transaction logs",null==e?void 0:e.logs)}},children:"LuckySwap"}),(0,r.jsx)("button",{className:"btn btn-primary btn-wide",onClick:async function(){try{const e=A,t=_,a=+v*Math.pow(10,h.getTokenByMintAddress(e).decimals),n=await J(o,i,e,t,a);p(n.signature)}catch(e){a(e),console.error(e),e.logs&&console.error("transaction logs",null==e?void 0:e.logs)}},children:"JupiterSwap"})]})]})}),(0,r.jsx)("div",{className:"divider",children:"\ud83c\udf40"}),(0,r.jsx)("div",{className:"card rounded-box grid px-5 place-items-center",children:(0,r.jsx)("div",{className:"overflow-x-auto text-secondary-content",children:(0,r.jsx)("table",{className:"table",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Your odds"}),(0,r.jsx)("td",{children:y})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Your chance to win"}),(0,r.jsxs)("td",{children:[(1/y*100*.975).toFixed(1),"%"]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"You send"}),(0,r.jsxs)("td",{children:[C()," ",h.getTokenByMintAddress(A).symbol]})]}),I?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"... if you win that becomes"}),(0,r.jsxs)("td",{children:[T," ",h.getTokenByMintAddress(A).symbol]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:".. and will be swapped to"}),(0,r.jsxs)("td",{children:[f," ",h.getTokenByMintAddress(_).symbol]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"... that will be swapped to"}),(0,r.jsxs)("td",{children:[N," ",h.getTokenByMintAddress(_).symbol]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"... and if you win that becomes"}),(0,r.jsxs)("td",{children:[f," ",h.getTokenByMintAddress(_).symbol]})]})]})]})})})}),(0,r.jsx)("div",{className:"divider"})]})}var Y=a(9166);function Z(){(0,Y._)();const e=(0,$.g)(),t=(0,s.useMemo)((()=>e.sendMint?e.sendMint:"So11111111111111111111111111111111111111112"),[e]),a=(0,s.useMemo)((()=>e.receiveMint?e.receiveMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.sR,{title:"Lucky Swaps",subtitle:"Challenge your luck now"}),(0,r.jsx)(i,{}),(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 my-4",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)(o,{})}),(0,r.jsx)("div",{children:(0,r.jsx)(Q,{sendMint:t,receiveMint:a})})]})]})}},3943:()=>{},4422:()=>{},493:()=>{},3034:()=>{},272:()=>{}}]);